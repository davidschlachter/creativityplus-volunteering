doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title= title
    // First, all the scripts
    script
      include ../public/javascripts/jquery224.min.js
    script
      include ../public/javascripts/moment.min.js
    script
      include ../public/bootstrap/bootstrap.min.js
    script.
      user = !{JSON.stringify(user)};
    script.
      shifts = !{JSON.stringify(shifts)};
    script
      include ../public/javascripts/googleanalytics.js
    script
      include ../public/javascripts/pikaday.min.js
    script
      include ../public/javascripts/main.js
    // Then the stylesheets
    style
      include ../public/bootstrap/bootstrap.min.css
    style
      include ../public/bootstrap/bootstrap-theme.min.css
    style
      include ../public/stylesheets/pikaday.css
    style
      include ../public/stylesheets/style.css
  body
    div.container
      ul.nav.pull-right
        div.dropdown#dropdown
          button#drop3.btn.btn-primary.dropdown-toggle(type='button',data-toggle='dropdown')
          ul.dropdown-menu
            li
              a(href='#', data-toggle="modal", data-target="#emailPrefs") Email preferences
            li.divider
            li
              a(href='mailto:osdsvol@gmail.com') Contact us
            li.divider
            li
              a(href='logout') Log out
              
      h1= title
      p#user
      p#date.well
      table(id='shifts')
        thead
          tr
            th Time
            th#volCol Volunteer(s)
        tbody
      
      #noShifts.modal.fade(role='dialog')
        .modal-dialog
          .modal-content
            .modal-header
              button.close(type='button', data-dismiss='modal') ×
              h4.modal-title Shifts closed
            .modal-body
              p#noShiftsMessage Shifts are closed for this week! Volunteering shifts for next Friday open on Monday.
            .modal-footer
              button.btn.btn-default(type='button', data-dismiss='modal') OK
        
      
      #emailPrefs.modal.fade(role='dialog')
        form(action="emailPrefs",method="post")
          .modal-dialog
            .modal-content
              .modal-header
                button.close(type='button', data-dismiss='modal') ×
                h4.modal-title Email preferences
              .modal-body
                p Receive an email for:
                  br
                  br
                  strong Signing up for shifts
                  br
                  <input type="checkbox" name="sendChangedShift" id="sendChangedShift" /> I change the time of my volunteering shift
                  br
                  <input type="checkbox" name="sendDeletedShift" id="sendDeletedShift" /> I cancel my volunteering shift
                  br
                  <input type="checkbox" name="sendNewShift" id="sendNewShift" /> I sign up for a new volunteering shift
                  br
                  br
                  strong When I volunteer
                  br
                  <input type="checkbox" name="sendReminder" id="sendReminder" /> A reminder of my volunteering shift (Thursday at 6 PM)
                  br
                  <input type="checkbox" name="sendThanks" id="sendThanks" /> A thank you email for volunteering
                  br
                  br
                  strong Each week
                  br
                  <input type="checkbox" name="sendVolunteeringCall" id="sendVolunteeringCall" /> A notification when shifts for the coming week are available (Monday morning)
                  br
                  <input type="checkbox" name="sendLastCall" id="sendLastCall" /> A notification if any shifts are still available on Friday morning
                  br
                  br
                  span#adminEmail(style="display:none;")
                    strong Exec
                    br
                    <input type="checkbox" name="sendSchedule" id="sendSchedule" /> The volunteer schedule each week (Friday at 5 PM)
              .modal-footer
                input.btn.btn-default(type='submit', value="Save")
                
      div#adminTools(style="display:none;")
        h2.center <br> Exec tools
        p.center
          input#otherDel1.btn.btn-default(value="Delete a shift",onclick="showDelButtons()")
          input#otherDel2.btn.btn-primary(value="Hide delete buttons",onclick="showDelButtons()",style="display:none;")
          input#details1.btn.btn-default(value="See volunteer details",onclick="showDetails()")
          input#details2.btn.btn-primary(value="Hide volunteer details",onclick="showDetails()",style="display:none;")
          input#execs1.btn.btn-default(value="Manage admins",onclick="showAdmins()")
          input#execs2.btn.btn-primary(value="Hide admin management",onclick="showAdmins()",style="display:none;")
          input#cancel1.btn.btn-default(value="Cancel a week",onclick="showCancel()")
          input#cancel2.btn.btn-primary(value="Hide cancelled weeks",onclick="showCancel()",style="display:none;")
        table#userDetails
          thead
            tr
              th Time
              th Volunteer
              th Email address
          tbody
        div#adminDetails(style="display:none;")
          h3 Add an admin
          p To add an admin, search volunteers by their name:
          input#adminInput
          span &nbsp;
          button#adminButton.btn.btn-primary Search
          br
          div#tooShort.alert.alert-warning(style="display:none;") Search query is too short! (minimum four characters)
          table#adminResults(style="display:none;")
            thead
              tr
                th Name
                th Email address
            tbody
          h3 Current admins:
          table#currentAdmins
            thead
              tr
                th Name
                th Email address
            tbody
        div#cancelWeeks(style="display:none;")
          h3 Cancel a week
          table#cancelledWeeks
            thead
              tr
                th Cancelled weeks
            tbody
          p Select a week to cancel:
          input(type="text", id="datepicker")
          button#cancelButton(type="button", class="btn btn-primary") Cancel week
      div#footer
        p
          a(href="https://github.com/davidschlachter/dance-volunteering/")
            include ../public/images/GitHub-Mark-32px.png.b64
            span Open-source on GitHub
